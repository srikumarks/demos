<!DOCTYPE html>
<html>
    <head>
        <script src="../lib/codemirror/lib/codemirror.js"></script>
        <link rel="stylesheet" href="../lib/codemirror/lib/codemirror.css">
        <script src="../lib/codemirror/mode/javascript/javascript.js"></script>
        <script src="canvas_explorer.js" defer></script>
        <style type="text/css">
            img, canvas {
                border: solid;
                border-width: 1px;
                margin: 5px;
                padding: 5px;
                border-color: #cfcfcf;
            }
        </style>
    </head>
    <body>
        <table>
            <tr>
                <td width="30%" valign="top">
                    <div>
                        <canvas id="canvas" width="256" height="256"/>
                    </div>
                    <div>
                        <button id="export">Save image</button>
                        <div><small>
                                <ul>
                                    <li>Saved images appear below.</li>
                                    <li>Click image to load its code.</li>
                                    <li>Shift-click to delete a saved image.</li>
                                </ul>
                            </small></div>
                    </div>
                    <hr/>
                    <div id="rendered"></div>
                </td>
                <td width="50%" valign="top">
<textarea id="code" placeholder="Canvas drawing code" cols="80" rows="50">
// Drawing code goes here. 
//
// Methods of the canvas 2d context can simply be called 
// without the "context." object prefix.
//
// Math functions can be used without the "Math." prefix.
//
// For CSS colors, the function rgba(r,g,b,a) is available
// and better suited for use with animations.
//
// "anim.type(v1, v2, dt)" can be used to animate any numeric 
// value. 'type' can be one of 'linear'/'lin', 'sine'/'sin',
// 'cos', 'loop', 'easein', 'easeout', 'easeinout'/'ease',
// and 'bounce'.
//
// Time is explicitly available as "t". For explicit animations,
// without using the "anim." functions, you need to set the 
// "animate" variable to "true" like this -
//		animate = true;

canvas.width = 128;
canvas.height = 128;
canvas.style.backgroundColor = 'black';

var r = createRadialGradient(48, 48, 0, 64, 64, 64);
var c = anim.sine(0, 255, 30);
r.addColorStop(0, rgba(c, c, c, 1.0));
r.addColorStop(0.95, rgba(0, 0, 0, 0.75));
r.addColorStop(1, rgba(0, 0, 0, 0));

fillStyle = r;
fillRect(0, 0, 128, 128);
</textarea>
                </td>
            </tr>
        </table>
    </body>
</html>
